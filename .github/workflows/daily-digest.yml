name: 每日X关注账号微信推送（snscrape版）

on:
  schedule:
    - cron: '0 0 * * *'
  workflow_dispatch:

jobs:
  run:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Install snscrape
        run: pip install snscrape jinja2 requests
      - name: 生成并推送日报
        env:
          X_USERNAME: ${{ secrets.X_USERNAME }}
          PUSHPLUS_TOKEN: ${{ secrets.PUSHPLUS_TOKEN }}
        run: python digest.py
